<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PDF Viewer App In JavaScript</title>
    </head> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.js"></script>
    <style>
        #canvas_container{
            width: auto;
            height: 800px;
            overflow: auto;
            background: #0a993c;
            text-align: center;
            border: 1px solid;
            border-radius: 0%;   
        }
    </style>
    <body>
        <div id="my_pdf_viewer">
            <div id="canvas_container">
                <canvas id="pdf_renderer"></canvas>
            </div>
            <div id="navigation-controls">
                <button id="go_previous">Previous</button>
                <input type="number" value="1" id="current_page">
                <button id="go_next">Next</button>
            </div>
            <div id="zoom-controls">
                <button id="zoom_in">+</button>
                <button id="zoom_out">-</button>
            </div>
        </div>
    </body>
    <script>
        var myState = {
            pdf:null,
            currentPage:1,
            zoom:1,
        }

        pdfjsLib.getDocument("sample.pdf").then(pdf => {
            myState.pdf = pdf
            render()
        })
    
        function render(){
            myState.pdf.getPage(myState.currentPage).then(page => {
                var canvas = document.getElementsById("pdf_renderer")
                var ctx = canvas.getContext("2d")
                var viewport = page.getViewport(myState.zoom)
    
                canvas.width = viewport.width;
                canvas.height = viewport.height;
    
                // rendering the page
    
                page.render({
                    canvasContext:ctx,
                    viewport:viewport
                })
            })
        }
        
        document.getElementById('go_previous')
        .addEventListener('click',(e) => {
            if(myState.pdf == null || myState.currentPage == 1) return;

            myState.currentPage = myState.currentPage - 1;

            document.getElementById("current_page").value = myState.currentPage;

            render()
        })

        document.getElementById("go_next")
        .addEventListener('click', (e) => {
            if(myState.pdf == null || myState.currentPage > myState.pdf._pdfInfo.numPages) return;

            myState.currentPage = myState.currentPage + 1;

            document.getElementById("current_page").value = myState.currentPage;

            render()
        })

        document.getElementById("current_page")
        .addEventListener('keypass', (e) => {
            if(myState.pdf == null) return;

            // get the key code

            var code = (e.keycode ? e.keycode : e.which)

            if(code == 13)
            {
                var desiredPage = document.getElementById("current_page").valueAsNumber

                if(desiredPage >= 1 && desiredPage <= myState.pdf._pdfInfo.numPages){
                    myState.currentPage = desiredPage

                    document.getElementById("current_page").value = desiredPage

                    render()
                }
            }
        })

        document.getElementById("zoom_in")
        .addEventListener('click' ,(e) => {
            if(myState.pdf == null) return;
            myState.zoom = myState.zoom + 0.5
            render()
        })

        document.getElementById("zoom_out")
        .addEventListener('click' ,(e) => {
            if(myState.pdf == null) return;
            myState.zoom = myState.zoom - 0.5
            render()
        })
    </script>
</html>